<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!--<script type="module" src="https://unpkg.com/rapidoc/dist/rapidoc-min.js"></script>-->
  <script type="module" src="https://cdn.jsdelivr.net/npm/rapidoc/dist/rapidoc-min.js"></script>
</head>
<body>
</body>
<script>
  {
    let href = new URL(location.href);
    let specPath = 'api-json' // nestjs
    let url = href.searchParams.get('url') || `${href.pathname.replace(/docs.html$/, '')}${specPath}`;
    let el = document.createElement('rapi-doc');
    // https://rapidocweb.com/api.html
    el.setAttribute('spec-url', url);
    el.setAttribute('server-url', location.origin)
    el.setAttribute('default-api-server', location.origin)
    el.setAttribute('persist-auth', 'true');
    document.body.appendChild(el);
    globalThis.$doc = el;
  }
</script>
</html>
